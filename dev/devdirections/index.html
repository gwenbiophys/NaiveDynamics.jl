<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Development Directions · NaiveDynamics.jl</title><meta name="title" content="Development Directions · NaiveDynamics.jl"/><meta property="og:title" content="Development Directions · NaiveDynamics.jl"/><meta property="twitter:title" content="Development Directions · NaiveDynamics.jl"/><meta name="description" content="Documentation for NaiveDynamics.jl."/><meta property="og:description" content="Documentation for NaiveDynamics.jl."/><meta property="twitter:description" content="Documentation for NaiveDynamics.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">NaiveDynamics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../devdiary/">Developer Diary</a></li><li class="is-active"><a class="tocitem" href>Development Directions</a><ul class="internal"><li><a class="tocitem" href="#Roadmap"><span>Roadmap</span></a></li><li><a class="tocitem" href="#Naive-implementations"><span>Naive implementations</span></a></li><li><a class="tocitem" href="#Fancy-implementations"><span>Fancy implementations</span></a></li><li><a class="tocitem" href="#Optimization-type-TODO"><span>Optimization-type TODO</span></a></li><li><a class="tocitem" href="#Miscellaneous-TODO"><span>Miscellaneous TODO</span></a></li></ul></li><li><a class="tocitem" href="../helpGwen/">Help Gwen</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Development Directions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Development Directions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/gwenbiophys/NaiveDynamics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/gwenbiophys/NaiveDynamics.jl/blob/main/docs/src/devdirections.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Development-Directions"><a class="docs-heading-anchor" href="#Development-Directions">Development Directions</a><a id="Development-Directions-1"></a><a class="docs-heading-anchor-permalink" href="#Development-Directions" title="Permalink"></a></h1><p>&lt;details&gt;    &lt;summary&gt;Roadmap&lt;/summary&gt;</p><h2 id="Roadmap"><a class="docs-heading-anchor" href="#Roadmap">Roadmap</a><a id="Roadmap-1"></a><a class="docs-heading-anchor-permalink" href="#Roadmap" title="Permalink"></a></h2><h3 id="Version-0.00.1"><a class="docs-heading-anchor" href="#Version-0.00.1">Version 0.00.1</a><a id="Version-0.00.1-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.00.1" title="Permalink"></a></h3><ul><li>[x] System instantiation for a generic method and object</li><li>[x] Generic methods, structures, and types to establish an architecture –grtting there</li><li>[x] Separated Testing module</li><li>[x] Generation of a simulation system from generic generator functions</li><li>[x] Generic simulation</li><li>[x] Profiling of a generic simulation and the MDInput?</li><li>[x] Invert generate<em>object and collect</em>objects to reduce allocations and prevent having to write messy ass logic that collates elements of object into vectors of object_collection</li><li>[x] Lewrn how to initialize objectCollections in 1 step where they are initialized  and the method of filling is dependent on the type of object, not the collection.</li><li>[x] I think maybe i should not break out the logic for generateposition from collect_objects because doing so might be annoying?</li><li>[x] Threads.@spawn velocityfill position fill –– that&#39;s excessive, no</li><li>[x] Get rid of GenericCollector, toss it into the GenericSystem? No, it&#39;s just an initialization. But can pull the initial number of atoms from MDInput</li></ul><h3 id="Version-0.00.2"><a class="docs-heading-anchor" href="#Version-0.00.2">Version 0.00.2</a><a id="Version-0.00.2-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.00.2" title="Permalink"></a></h3><ul><li>[x] From initialization of a genericObjectCollection, or the function call of a simulation, generate a pairlist of every unique pair. Hoepfully design this function to be extensible to any number of unique groupings, rather than only pairs – yes but only with a library</li><li>[x] Vectorize unique pairs, just for shits, giggles,  and curiosity testing? –- no, julian for loops may be faster than vectorized process</li><li>[x] Refactor of GenericObjectCollection and functions to be a single array filled with typed arrays as fields, rather than an object with several attached arrays, so more continuity in data –- no, StructArrays.jl doesnt work or doesnt make sense to me</li><li>[x] Following GOC Refactor,  consider if math should be done on the arrays of GenericObjectCollection, or if the values at start should be copied to smaller arrays that contain only the details pertinent to a given calculation. For now, i think no. It shouldnt be too much of a fuss to create a memory minimal version later, one that copies and cuts out unrelevant information for the sake of parallelization</li><li>[x] Use DataFrames or another package (https://discourse.julialang.org/t/matrix-column-row-labelling/84064/3) for the purpose of assigning labels to the arrays of ObJectCollection, so that code can either call the right subfield by name or by index, rather than index alone and depending on the user to intuit the right name</li><li>[x] Get the docs working</li><li>[x] Get a commentaries/notes doc going in the docs pages. Maybe blog style</li><li>[x] Microbenchmarking of the old genericobjectvollection vs the dataframe one and whether simulate! needs to have the coords and vectors extracted out of it</li><li>[x] Implementstion of a lennard jones potential for generi. Particles</li><li>[x] In simulate!, before the step iterator, we need a section to precalculate values and initialize vectors –– ??, they are already initialized, weirdo</li><li>[x] To gnericobjectcolelction add radius vector, potential, force</li><li>[x] NaivePairlist algorithm</li><li>[x] Modify the nested logger function by passing it each local variable that it needs to use</li><li>[x] Add a pruner to positions for ones too close at initialization</li><li>[x] Make the pruner time stable</li><li>[x] Set makie work craft into its own module so we dont ask the guthub action to precompile NaiveDynamics when it doesnt have a visualization routine</li><li>[x] Why does ci.yml exist? What does it aim to do? ~run the test package, boss</li><li>[x] Change ci.yml to avoid indicating OS interoperability</li><li>[x] Cutdown on the slop in Simulator</li><li>[x] develop independent methods for MVec  until and unless nonindexable SVec&#39;s start winning</li><li>[] improve naming for Vec3D and Stat(ic)?Vec3D</li><li>[x] NaiveLennardJones based on MVec</li><li>[] NaiveCoulomb based on MVec</li><li>[x] Naive Logging and storage of data as a text file by snapshotting the whole struct~~</li><li>[x] change structuring, so that the object collection is not nested within misc structs     get rid of the name pile at the start of simulate!()     simulate takes 3 arguments, a collector, a collection, and the simSpecs, where type dispatch is based around the type of the SimSpecs, if it is a VerletVel or otherwise integrator     add documentation to describe the arguments for simulate!(), as objectcollection will be shortened to sys, collector to clct and simulationspecification will just be spec</li><li>[x] update simulate!() and object collection so that the force is the force of the current step, so that for a logg of position and force, the listed force sum is the force that (along with velocity and other methods) that caused the particles to change positions between the previous step and the current step</li><li>[x] get rid of dumloop_product!() as it is just an unnecessary composite of larger pieces</li><li>[x] GLMakie integration and MP4 deliverable for data analysis</li><li>[] add temperature rescaling to catch molecules that suddenly acquire an obscene velocity.</li><li>[x] fix bugs that cause particles to exit the box</li><li>[x] fix bugs that cause unnecessary allocations in VelVer</li><li>[x] notice that a simulation records n_steps + 1 position sets, when trying using frameintervals of 10s, have to shift the value by 1</li></ul><h3 id="Version-0.00.3"><a class="docs-heading-anchor" href="#Version-0.00.3">Version 0.00.3</a><a id="Version-0.00.3-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.00.3" title="Permalink"></a></h3><ul><li>[] Improve design of the Logger to be compatible with makie</li><li>[x] Github work flow for a private uhh workspace</li><li>[x] Github based integrations of the code at start and endpoints</li><li>[] Figure out how to start getting test coverage and using formal unit testing procedures</li><li>[] Wrap custome types in functions so that a user can call a function and assign labeled arguments (eg &quot;duration=10&quot;), rather than having nameless and ordered fields</li><li>[] These wrapper functions may also contain side logic for checking inputs are correct as well as the actual logic to be done on the particular system, as shown in Molly.setup</li><li>[] Output logfile with modification of the set up routine to allow the user to add in a place and a type of output, but defaulting to a generic</li><li>[x] Random generation for each component. Check that this works</li><li>[] Aqua.jl</li><li>[] Consider putting in architecture to read data from input files so we can test coverage with fixed values and analyze for changes with feature development.</li><li>[] add several Naive implementations</li><li>[] For instance, sigma6th and sigma12 should be calculated prior to simulation for each unique radius of objects in our objectcollection –- lord willing the compiler will do this at compile time, but i trust nothing and no one.</li><li>[] check the naive unique pairs function for correctness. I was kinda just throwing stuff at a wall to see if it worked</li><li>[] fix precision bug where the precision selected by the user is actually the precision applied throughout</li><li>[] Get test coverage working and automated with each commit</li><li>[] Fix position recording so that the simulation can be logged for a user specified number of runs</li><li>[] add <code>simulate!()</code> resolution so that the system can log the last few steps, if the last step does not trigger a logging of the chunk</li><li>[x] fix bug in simulation recorder where the chunk<em>index has to be updated inside the for each step loop. when placed inside the record</em>simulation if statement, then the value will be reset by simulate!() to it&#39;s initial definition value each step, even if the place where the value was defined as &#39;2&#39; sits outside of the stepper loop. this could be automagically fixed when we move to more direct function arguments rather than the equivalency pile up top.</li><li>[] fix velocity verlet to prevent velocity from depreciating for no reason. most likely, the velocity values are being overwritten by intermediates, which are based on forces. as forces tend to zero, so shall intermediates and velocities. or the force is just whacked up. not sure!</li><li>[] use for each fill!() for all instances of IntermediateVector = DataVector</li><li>[x] allow record_video() to have user input for the frame recording interval. do this by pushing every multiple of frameInterval to the positions vector</li></ul><h3 id="Version-0.00.4"><a class="docs-heading-anchor" href="#Version-0.00.4">Version 0.00.4</a><a id="Version-0.00.4-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.00.4" title="Permalink"></a></h3><ul><li>[] Improve the boundary_reflect!() in some way to either reduce frequency of checking (pair list), use an aligned array(s) to broadcast that checks in a single statement rather than 6 if statements, convert wall actions into a potential,something else, or all of the above. At leat make it Naive+ rather than just Naive.</li><li>[] Research how boundary conditions are set so as to avoid assessing the value of every particle to see if it exists in the box or not at each time step</li><li>[] optimize naive implementations so that they dont endlessly allocate temporary values and obtain pre-allocated overwrite spaces prior to entering the for-each-step loop</li><li>[] maybe even create a few fancy implementations or Naive+ Naive++ </li><li>[] integrate tree based neighbor finding</li><li>[] modify the makie extension with the advice posted on their documentation https://docs.makie.org/stable/explanations/recipes#Full-recipes-with-the-@recipe-macro</li><li>[] fix makie extension so that I don&#39;t have to load in GLMakie and all of it&#39;s dependencies every single time.</li><li>[] fix up collection.current step and how it is updated inside of simulate!(). it is silly to have to allocate a vector filled with the same data point for each particle at every step. But also, is it really a big deal?</li><li>[] organize helpGwen.md</li><li>[] test out and redevelop struct of arrays of arrays for the Log of ObjectCollections and get a write up on how it&#39;s going. it went poorly last time and I am not certain why and I would have to manually search the diary to see if I wrote anything. and maybe i wrote nothign</li><li>[] integrate the julian testing packages as part of a refactor to make naming consistent but also make it easier. for instance, I keep mispelling simLog as simlog when simlog works absolutely fine and syslog might make more sense. or just log.</li><li>[] find documentation bug</li></ul><h3 id="Version-0.00.5"><a class="docs-heading-anchor" href="#Version-0.00.5">Version 0.00.5</a><a id="Version-0.00.5-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.00.5" title="Permalink"></a></h3><ul><li>[] Momentum calculations for particles of a selectable and variable radius radius so they bounce against each other for Newtonian-based simulation</li><li>[] Makie rendering / Refactor Makie extension to depict the variable radii of the particles</li><li>[] Measure energy conservation, explore how it evolves</li><li>[] Analyze how to improve the oneloop simulation, write-up in devdiary, investigate why allocation crazy</li><li>[] By lazyarrays?</li><li>[] By ArrayFire, non julian kernel abstraction library?</li><li>[] By replacing GenericObjColl with a vector of Tuples that contain alll of the information? Maintain broadcasting functionality by a vector of tuples of numbers, M/SVectors of numbers, and strings</li></ul><p>Version</p><ul><li>[] Should the component forces LJ, Coulomb etc. be dumped at the very end of each step, given that they are completely recomputed in the next step based on the old situation, rather than additive?</li></ul><h3 id="Version-0.01"><a class="docs-heading-anchor" href="#Version-0.01">Version 0.01</a><a id="Version-0.01-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.01" title="Permalink"></a></h3><ul><li>[x] Changename from NaiveMD to NaiveDynamics</li><li>[] System initialization from an input file, from a hand constructed input</li><li>[] Definition of a simple particle</li><li>[x] Velocity verlet-based calcuation of stepwise forces, velocities, and positions</li><li>[x] Modeling of spheroids with a lennard jones potential</li><li>[] Logging of velocity and position (and any other dynamic property) at a selectable interval</li><li>[] Particle in a well simulation where the box does something based on the particles being equal or less than a constant distance too close to the wall</li><li>[] Render spheres bouncing against each other in a prism</li></ul><h3 id="Version-0.02"><a class="docs-heading-anchor" href="#Version-0.02">Version 0.02</a><a id="Version-0.02-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.02" title="Permalink"></a></h3><ul><li>[] Naive construction of required and assumed unit definitions or importation of unitful.jl for Atom and AtomCollection</li><li>[]</li></ul><p>&lt;/details&gt;</p><h2 id="Naive-implementations"><a class="docs-heading-anchor" href="#Naive-implementations">Naive implementations</a><a id="Naive-implementations-1"></a><a class="docs-heading-anchor-permalink" href="#Naive-implementations" title="Permalink"></a></h2><h2 id="Fancy-implementations"><a class="docs-heading-anchor" href="#Fancy-implementations">Fancy implementations</a><a id="Fancy-implementations-1"></a><a class="docs-heading-anchor-permalink" href="#Fancy-implementations" title="Permalink"></a></h2><h2 id="Optimization-type-TODO"><a class="docs-heading-anchor" href="#Optimization-type-TODO">Optimization-type TODO</a><a id="Optimization-type-TODO-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization-type-TODO" title="Permalink"></a></h2><h2 id="Miscellaneous-TODO"><a class="docs-heading-anchor" href="#Miscellaneous-TODO">Miscellaneous TODO</a><a id="Miscellaneous-TODO-1"></a><a class="docs-heading-anchor-permalink" href="#Miscellaneous-TODO" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../devdiary/">« Developer Diary</a><a class="docs-footer-nextpage" href="../helpGwen/">Help Gwen »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Monday 8 July 2024 13:27">Monday 8 July 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
